<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN"
        "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<!-- <constant name="struts.devMode" value="false" /> -->
    <package name="agentAuth" extends="agentLoginInterceptor" namespace="/agent/app">
         <action name="verify" class="com.yq.app.agent.action.AgentAppAuthAction" method="verifyUserLogin" />
         <action name="getUserSimpInfo" class="com.yq.app.agent.action.AgentAppAuthAction" method="getUserSimpInfo" />
	</package>
 
   <package name="agentNoAuth" extends="agentNoLoginInterceptor" namespace="/">
         <action name="agentLogin" class="com.yq.app.agent.action.AgentAppNoAuthAction" method="login" />
         <action name="createOrder" class="com.yq.app.agent.action.AgentAppNoAuthAction" method="createOrder" />
         <action name="appCreateOrder" class="com.yq.app.agent.action.AgentAppNoAuthAction" method="appCreateOrder" />
         <action name="payOrder" class="com.yq.app.agent.action.AgentAppNoAuthAction" method="payOrder" />
         <action name="appPayOrder" class="com.yq.app.agent.action.AgentAppNoAuthAction" method="appPayOrder" />
         <action name="addScores" class="com.yq.app.agent.action.AgentAppNoAuthAction" method="addScores" />
         <action name="getUserInfo" class="com.yq.app.agent.action.AgentAppNoAuthAction" method="getUserInfo" />
         
         <!-- version2.0 -->
         <!-- 会员简要信息 -->
         <action name="userPersonalInfo" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="userPersonalInfo" />
       	 <!-- 积分单价变动记录 -->
         <action name="pointChangeinfo" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="pointChangeinfo" />
      	 <!-- 会员同名账号总资产 -->
         <action name="getSameUserPersonalInfo" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="getSameUserPersonalInfo" />
   		  <!--会员积分交易明细 -->
         <action name="userPointChangeDetail" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="userPointChangeDetail" />
          <!-- 会员拆分收益详情(积分详情) -->
         <action name="userPointSplitDetail" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="userPointSplitDetail" />
  		 <!-- 同名账户总资产 -->
         <action name="getSameUserTotalWealth" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="getSameUserTotalWealth" />
         <!-- app端设置支付密码 -->
         <action name="setPayPassword" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="setPayPassword" />
         <!-- 查询订单号 -->
         <action name="queryOder" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="queryOder" />
         <!-- 查询用户是否已经设置支付密码 -->
         <action name="getUserPaypassword" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="getUserPaypassword" />
         <!-- app端转账 -->
         <action name="transactionPay" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="transactionPay" />
         <!-- app端绑定支付密码 -->
         <action name="bindPayPassword" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="bindPayPassword" />
         <!-- version2.1 -->
         <!-- 获取账户所以同名账户用户名 -->
         <action name="getAllUsername" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="getAllUsername" />
          <!-- 通过用户名得到玩家信息 -->
         <action name="getUserByUsername" class="com.yq.app.agent.action.AgentAppPersonalNoAuthAction" method="getUserByUsername" />
         
   </package>
	
	<package name="agentNoLoginInterceptor" extends="myInterceptor">
		<interceptors>
			<!-- 不需要认证的拦截器-->
			<interceptor name="noLoginInterceptor"
				class="com.yq.app.agent.interceptor.AgentNoLoginInterceptor" />
			<interceptor-stack name="noLoginStack">
				<interceptor-ref name="noLoginInterceptor" />
				<interceptor-ref name="myStack" />
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="noLoginStack" />
	</package>
	
	<package name="agentLoginInterceptor" extends="myInterceptor">
		<interceptors>
			<!-- 不需要认证的拦截器-->
			<interceptor name="agentLoginInterceptor"
				class="com.yq.app.agent.interceptor.AgentLoginInterceptor" />
			<interceptor-stack name="agentLoginStack">
				<interceptor-ref name="agentLoginInterceptor" />
				<interceptor-ref name="myStack" />
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="agentLoginStack" />
	</package>
	
</struts>
